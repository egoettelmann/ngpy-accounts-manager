<div class="clr-row" *ngIf="alerts && alerts.labels > 0">
  <div class="clr-col-12">
    <clr-alert [clrAlertType]="'danger'"
               [clrAlertIcon]="'exclamation-circle'"
               [clrAlertClosable]="false">
      <clr-alert-item>
        <span class="alert-text">
          {{ 'i18n.views.dashboard.alerts.labels' | translate:{num: alerts.labels} }}
        </span>
        <div class="alert-actions">
          <a (click)="goToLabelAlerts()" class="alert-action fix-that">
            {{ 'i18n.views.dashboard.alerts.labels-link' | translate }}
          </a>
        </div>
      </clr-alert-item>
    </clr-alert>
  </div>
</div>

<div class="clr-row" *ngIf="alerts && (alerts.credits + alerts.debits) !== 0">
  <div class="clr-col-12">
    <clr-alert [clrAlertType]="'danger'"
               [clrAlertIcon]="'exclamation-circle'"
               [clrAlertClosable]="false">
      <clr-alert-item>
        <span *ngIf="(alerts.credits + alerts.debits) > 0" class="alert-text">
          {{ 'i18n.views.dashboard.alerts.categories' | translate:{ num: alerts.credits + alerts.debits } }}
        </span>
        <span *ngIf="(alerts.credits + alerts.debits) === -1" class="alert-text">
          {{ 'i18n.views.dashboard.alerts.categories-max' | translate }}
        </span>
        <div class="alert-actions">
          <clr-dropdown>
            <button class="dropdown-toggle" clrDropdownTrigger>
              {{ 'i18n.views.dashboard.alerts.categories-link' | translate }}
              <clr-icon shape="caret down"></clr-icon>
            </button>
            <clr-dropdown-menu clrPosition="bottom-right">
              <a class="dropdown-item" (click)="goToCategoryCreditAlerts()">
                <span>{{ 'i18n.views.dashboard.alerts.categories-link-credits' | translate: { num: alerts.credits } }}</span>
              </a>
              <a class="dropdown-item" (click)="goToCategoryDebitAlerts()">
                <span>{{ 'i18n.views.dashboard.alerts.categories-link-debits' | translate: { num: alerts.debits } }}</span>
              </a>
            </clr-dropdown-menu>
          </clr-dropdown>
        </div>
      </clr-alert-item>
    </clr-alert>
  </div>
</div>

<div class="clr-row">
  <div class="clr-col-12 clr-col-md-6">
    <div class="card">
      <div class="card-block">
        <h4 class="card-title clr-row">
          <span class="clr-col-6">{{ 'i18n.views.dashboard.accounts.total' | translate }}</span>
          <span class="clr-col-6 text-right"><strong>{{ total | number:'1.2-2' }}&nbsp;â‚¬</strong></span>
        </h4>
      </div>
    </div>

    <app-dashboard-accounts-chart [chartTitle]="'i18n.views.dashboard.chart.title' | translate"
                                  [accounts]="accounts">
    </app-dashboard-accounts-chart>
  </div>

  <div class="clr-col-12 clr-col-md-6">
    <app-account-card *ngFor="let account of accounts"
                      [account]="account">
    </app-account-card>
  </div>
</div>
